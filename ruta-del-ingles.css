/* Ruta del Inglés — app-like responsive layout */
:root{
  --ruta-accent: #ffa000; /* naranja */
  --ruta-blue: #00e5ff;
  --ruta-purple: #7c3aed;
  --ruta-card: rgba(255,255,255,.86);
  --ruta-border: rgba(15,23,42,.10);
}


body.route-body #statsBar{
  top: calc(env(safe-area-inset-top, 0px) + 12px) !important;
}
body.appShell{
  align-items: stretch;
  padding: 16px;
}

/* Container */
.appWrap{
  width: min(1100px, 100%);
  margin: 0 auto;
  position: relative;
}

/* Sticky header */
.rutaDock{
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(11,18,32,.92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 18px;
  padding: 12px;
  backdrop-filter: blur(10px);
  box-shadow: 0 10px 30px rgba(0,0,0,.20);
}

/* Top row */
.rutaTopRow{
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: center;
}

.rutaTitle{
  display:flex;
  gap: 10px;
  align-items:center;
  min-width: 0;
}
.rutaLogo{
  width: 42px;
  height: 42px;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
}
.rutaTitleMain{
  font-weight: 900;
  letter-spacing: .2px;
  color: #e7f6ff;
  font-size: 16px;
  line-height: 1.1;
}
.rutaTitleSub{
  color: rgba(231,246,255,.72);
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Tabs */
.rutaTabs{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 10px;
}
.rutaTab{
  appearance:none;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(231,246,255,.88);
  padding: 10px 12px;
  border-radius: 14px;
  font-weight: 800;
  cursor:pointer;
}
.rutaTab:hover{ transform: translateY(-1px); }
.rutaTab.isActive{
  background: rgba(255,160,0,.16);
  border-color: rgba(255,160,0,.45);
  color: #fff;
  box-shadow: inset 0 0 0 1px rgba(255,160,0,.22);
}

/* Progress */
.rutaProgress{
  margin-top: 10px;
  display:flex;
  gap: 10px;
  align-items:center;
}
.rutaProgressBar{
  flex: 1;
  height: 10px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 999px;
  overflow:hidden;
}
.rutaProgressFill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, rgba(0,229,255,.75), rgba(255,160,0,.85));
}
.rutaProgressMeta{
  display:flex;
  flex-direction: column;
  gap: 2px;
  min-width: 160px;
  text-align: right;
}
.rutaProgressMeta span{
  color: rgba(231,246,255,.92);
  font-weight: 800;
  font-size: 12px;
}
.rutaProgressSmall{
  color: rgba(231,246,255,.66) !important;
  font-weight: 700 !important;
  font-size: 11px !important;
}

/* Main */
.rutaMain{
  margin-top: 14px;
  padding-bottom: 72px; /* space for bottom nav on mobile */
}
.rutaSection{ display:none; }
.rutaSection.isVisible{ display:block; }

/* Cards */
.rutaCard{
  background: var(--ruta-card);
  border: 1px solid var(--ruta-border);
  border-radius: 18px;
  padding: 14px;
  margin: 12px 0;
  box-shadow: 0 10px 24px rgba(0,0,0,.08);
}
.rutaCard h2{
  margin:0 0 8px 0;
  font-size: 16px;
  color: #0b1220;
}
.rutaCard p{
  margin:0 0 10px 0;
  color: rgba(15,23,42,.78);
  font-weight: 600;
  line-height: 1.35;
}
.rutaChecklist{
  display:grid;
  gap: 10px;
}
.rutaItem{
  display:flex;
  align-items:flex-start;
  gap: 10px;
  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.55);
}
.rutaItem input[type="checkbox"]{
  width: 18px;
  height: 18px;
  margin-top: 2px;
}
.rutaItemLabel{
  font-weight: 700;
  color: rgba(15,23,42,.90);
}

/* Tenses table */
.rutaTableWrap{
  overflow-x: auto;
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,.10);
}
.rutaTable{
  width: 100%;
  border-collapse: collapse;
  min-width: 900px;
  background: rgba(255,255,255,.75);
}
.rutaTable th, .rutaTable td{
  border-bottom: 1px solid rgba(15,23,42,.10);
  padding: 10px 8px;
  text-align: center;
  vertical-align: middle;
  font-weight: 800;
  color: rgba(15,23,42,.88);
}
.rutaTable thead th{
  position: sticky;
  top: 0;
  z-index: 1;
  background: rgba(255,255,255,.92);
}
.rutaTable th.tcol{
  text-align:left;
  min-width: 190px;
  position: sticky;
  left: 0;
  z-index: 2;
  background: rgba(255,255,255,.95);
}
.rutaTable td.tcol{
  text-align:left;
  font-weight: 900;
  position: sticky;
  left: 0;
  z-index: 1;
  background: rgba(255,255,255,.85);
}
.rutaNA{
  opacity: .45;
  font-weight: 900;
}
.rutaCell input[type="checkbox"]{
  width: 18px;
  height: 18px;
  cursor:pointer;
}
.rutaCell input[type="checkbox"]:disabled{
  cursor: not-allowed;
  filter: grayscale(1);
  opacity: .35;
}

/* Linking words */
.lwGrid{
  display:grid;
  gap: 12px;
}
.lwHeader{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}
.lwPill{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.55);
  font-weight: 900;
}
.lwWords{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
}
.lwWord{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.65);
  font-weight: 800;
}
.lwWord input{ width: 16px; height: 16px; }
.lwAdd{
  display:flex;
  gap: 8px;
  margin-top: 10px;
}
.lwAdd input{
  flex: 1;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,.18);
  padding: 10px 12px;
  font-weight: 800;
}
.lwAdd button{
  border-radius: 12px;
  padding: 10px 12px;
  border: 1px solid rgba(15,23,42,.18);
  background: rgba(124,58,237,.12);
  font-weight: 900;
  cursor:pointer;
}

/* Bottom nav (mobile) */
.rutaBottomNav{
  display:none;
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 10px 12px calc(10px + env(safe-area-inset-bottom));
  background: rgba(11,18,32,.92);
  border-top: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
  z-index: 60;
  gap: 10px;
}
.rutaBottomBtn{
  flex: 1;
  padding: 12px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(231,246,255,.88);
  font-weight: 900;
  cursor:pointer;
}
.rutaBottomBtn.isActive{
  background: rgba(0,229,255,.14);
  border-color: rgba(0,229,255,.45);
  color: #fff;
}

/* Responsive */
@media (max-width: 720px){
  body.appShell{ padding: 10px; }
  .rutaTitleSub{ display:none; }
  .rutaTabs{ display:none; }
  .rutaBottomNav{ display:flex; }
  .rutaProgressMeta{ min-width: 120px; }
}
